<html>
<head>
    <title>Ýletiþim</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" style="margin-left:+10px" href="index.html">ANASAYFA</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="index.html">Hakkýnda</a></li>
                <li class="nav-item"><a class="nav-link" href="cv.html">CV</a></li>
                <li class="nav-item"><a class="nav-link" href="sehirim.html">Þehrim</a></li>
                <li class="nav-item"><a class="nav-link" href="ilgialanlari.html">Ýlgi Alanlarým</a></li>
                <li class="nav-item"><a class="nav-link" href="giris.html">Giriþ</a></li>
                <li class="nav-item"><a class="nav-link active" href="iletisim.html">Ýletiþim</a></li>
                <li class="nav-item"><a id="username-display" class="nav-link "></a></li>
            </ul>
        </div>
    </nav>
    <div class="container mt-5" id="app">
        <h1>Ýletiþim</h1>
        <form @submit.prevent="validateForm('submit')">
            <div class="form-group">
                <label for="name">Adýnýz:</label>
                <input type="text" class="form-control" id="name" v-model="name">
                <span class="text-danger" v-if="errors.name">{{ errors.name }}</span>
            </div>
            <div class="form-group">
                <label for="email">E-posta:</label>
                <input type="email" class="form-control" id="email" v-model="email">
                <span class="text-danger" v-if="errors.email">{{ errors.email }}</span>
            </div>
            <div class="form-group">
                <label for="message">Mesajýnýz:</label>
                <textarea class="form-control" id="message" v-model="message"></textarea>
                <span class="text-danger" v-if="errors.message">{{ errors.message }}</span>
            </div>
            <div class="form-group">
                <label for="contactMethod">Tercih Edilen Ýletiþim Yöntemi:</label>
                <select class="form-control" id="contactMethod" v-model="contactMethod">
                    <option value="">Seçiniz</option>
                    <option value="email">E-posta</option>
                    <option value="phone">Telefon</option>
                </select>
                <span class="text-danger" v-if="errors.contactMethod">{{ errors.contactMethod }}</span>
            </div>
            <div class="form-group">
                <label for="newsletter">Bültene Abone Olmak Ýster misiniz?</label>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="newsletter" v-model="newsletter">
                    <label class="form-check-label" for="newsletter">Evet, abone olmak istiyorum</label>
                </div>
            </div>
            <button type="button" class="btn btn-secondary" @click="validateForm('reset')">Temizle</button>
            <button type="submit" class="btn btn-primary">Gönder</button>
        </form>
        <div v-if="submitted" class="alert alert-success mt-3">
            <h4>Form baþarýyla gönderildi!</h4>
            <p><strong>Adýnýz:</strong> {{ name }}</p>
            <p><strong>E-posta:</strong> {{ email }}</p>
            <p><strong>Mesajýnýz:</strong> {{ message }}</p>
            <p><strong>Tercih Edilen Ýletiþim Yöntemi:</strong> {{ contactMethod }}</p>
            <p><strong>Bülten Aboneliði:</strong> {{ newsletter ? 'Evet' : 'Hayýr' }}</p>
        </div>
    </div>
    <script>
        new Vue({
            el: '#app',
            data: {
                name: '',
                email: '',
                message: '',
                contactMethod: '',
                newsletter: false,
                errors: {},
                submitted: false
            },
            methods: {
                validateForm(action) {
                    this.errors = {};
                    if (!this.name) this.errors.name = 'Adýnýzý giriniz.';
                    if (!this.email) this.errors.email = 'E-postanýzý giriniz.';
                    else if (!this.validEmail(this.email)) this.errors.email = 'Geçerli bir e-posta giriniz.';
                    if (!this.message) this.errors.message = 'Mesajýnýzý giriniz.';
                    if (!this.contactMethod) this.errors.contactMethod = 'Bir iletiþim yöntemi seçiniz.';

                    if (Object.keys(this.errors).length === 0) {
                        if (action === 'submit') {
                            this.submitted = true;
                        } else if (action === 'reset') {
                            this.resetForm();
                        }
                    }
                },
                validEmail(email) {
                    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                    return re.test(email);
                },
                resetForm() {
                    this.name = '';
                    this.email = '';
                    this.message = '';
                    this.contactMethod = '';
                    this.newsletter = false;
                    this.submitted = false;
                }
            }
        });
    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
